{
    "Namespace": "GeneratedScraper",
    "Path": "C:\\repos\\saap\\GeneratedStuff",
    "Models": [
        {
            "ClassName": "Article",
            "Properties": [
                { "Type": "string", "Name": "Title" },
                { "Type": "string", "Name": "Text" }
            ],
            "HasURL": true
        },
        {
            "ClassName": "Data",
            "Properties": [
                { "Type": "List<Article>", "Name": "MainArticles" },
                { "Type": "List<Article>", "Name": "SubArticles" }
            ]
        }
    ],
    "Steps": [
        {
            "Description": "Go to URL and accept cookies",
            "Name": "GoToORFAndAcceptCookies",
            "Actions": [
                {
                    "Kind": "NAVIGATE",
                    "URL": "https://www.orf.at",
                    "SubAction": {
                        "Kind": "WAITUNTILELEMENTEXISTS",
                        "ElementIdentifier": "wrapper",
                        "ElementSelector": "CLASSNAME",
                        "SubAction": {
                            "Kind": "CLICK",
                            "ElementIdentifier": "didomi-notice-agree-button",
                            "ElementSelector": "ID",
                            "SubAction": null
                        }
                    }
                }
            ]
        },
        {
            "Description": "Save all main articles of the website",
            "Name": "SaveMainArticles",
            "NeedsToIterateOverElements": true,
            "Actions": [
                {
                    "Kind": "ITERATE",
                    "ElementSelector": "CSSSELECTOR",
                    "ElementIdentifier": "div.oon-grid-top .oon-grid-item",
                    "PropertyPath": "data.MainArticles",
                    "TypeGenerated": "Article",
                    "SubAction": {
                        "Kind": "READ",
                        "PropertyPath": "article.Title",
                        "TypeGenerated": "Article",
                        "SubAction": {
                            "Kind": "CLICK",
                            "SubAction": {
                                "Kind": "READ",
                                "PropertyPath": "article.Description",
                                "TypeGenerated": "Article",
                                "ElementIdentifier": "story-lead",
                                "ElementSelector": "CLASSNAME",
                                "SubAction": {
                                    "Kind": "READ",
                                    "PropertyPath": "article.Text",
                                    "TypeGenerated": "Article",
                                    "ElementIdentifier": "story-content",
                                    "ElementSelector": "CLASSNAME"
                                }
                            }
                        }
                    }
                }
            ]
        }
    ]
}
